
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head><meta xmlns="http://www.w3.org/1999/xhtml" name="description" content="Copies files between multiple hosts at once. Synopsis gpscp { -f hostfile_gpssh | -h hostname [ -h hostname ...] } [ -J character ] [ -v ] [[ user @] hostname :] file_to_copy [...] [[ user @] hostname ..."/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="copyright" content="(C) Copyright 2005"/><meta name="DC.rights.owner" content="(C) Copyright 2005"/><meta name="DC.Type" content="topic"/><meta name="DC.Title" content="gpscp"/><meta name="DC.Relation" scheme="URI" content="../hawq-topics/ManagementUtilityReference.html"/><meta name="prodname" content=""/><meta name="version" content="2.1.0"/><meta name="release" content=""/><meta name="modification" content=""/><meta name="DC.Format" content="XHTML"/><meta name="DC.Identifier" content="topic1"/><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>gpscp</title><meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Type" content="text/html; charset=utf-8"><!----></meta><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/pivotal.css"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" id="topic1"><script xmlns="http://www.w3.org/1999/xhtml" src="//use.typekit.net/clb0qji.js" type="text/javascript"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  try {
				  Typekit.load();
			  } catch (e) {
			  }
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  document.domain = "pivotal.io";
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			WebFontConfig = {
			  google: { families: [ 'Source+Sans+Pro:300italic,400italic,300,400,600:latin' ] }
			};
			(function() {
			  var wf = document.createElement('script');
			  wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
				'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
			  wf.type = 'text/javascript';
			  wf.async = 'true';
			  var s = document.getElementsByTagName('script')[0];
			  s.parentNode.insertBefore(wf, s);
			})();
		  </script>
<table class="nav"><tbody><tr><td colspan="2"><div id="permalink"><a href="#">linkToThis</a></div><div id="printlink"><a href="javascript:window.print();">printThisPage</a></div></td></tr><tr><td><div class="navheader">
<span class="navparent"><a class="link" href="../hawq-topics/ManagementUtilityReference.html" title="Management Utility Reference"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Management Utility Reference</span></a></span>  </div></td><td width="75%"><a class="navheader_parent_path" href="../hawq-topics/../hawq-topics/HAWQAdministration.html" title="HAWQ Administration">HAWQ Administration</a> / <a class="navheader_parent_path" href="../hawq-topics/ManagementUtilityReference.html" title="Management Utility Reference">Management Utility Reference</a></td></tr></tbody></table>

  <h1 class="title topictitle1">gpscp</h1>

  <div class="body">
    <p class="p">Copies files between multiple hosts at once.</p>

    <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
      
      <pre class="pre codeblock"><strong class="ph b">gpscp</strong> { <strong class="ph b">-f</strong> <var class="keyword varname">hostfile_gpssh</var> | <strong class="ph b">-h</strong> <var class="keyword varname">hostname</var> [<strong class="ph b">-h</strong> <var class="keyword varname">hostname</var> ...] } 
      [<strong class="ph b">-J</strong> <var class="keyword varname">character</var>] [<strong class="ph b">-v</strong>] [[<var class="keyword varname">user</var>@]<var class="keyword varname">hostname</var>:]<var class="keyword varname">file_to_copy</var> [...]
      [[<var class="keyword varname">user</var>@]<var class="keyword varname">hostname</var>:]<var class="keyword varname">copy_to_path</var>

<strong class="ph b">gpscp</strong> <strong class="ph b">-?</strong> 

<strong class="ph b">gpscp</strong> <strong class="ph b">--version</strong></pre>

    </div>

    <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
      
      <p class="p">The <samp class="ph codeph">gpscp</samp> utility allows you to copy one or more files from the specified
        hosts to other specified hosts in one command using SCP (secure copy). For example, you can
        copy a file from the HAWQ master host to all of the segment hosts at the same time.</p>

      <p class="p">To specify the hosts involved in the SCP session, use the <samp class="ph codeph">-f</samp> option to
        specify a file containing a list of host names, or use the <samp class="ph codeph">-h</samp> option to
        name single host names on the command-line. At least one host name (<samp class="ph codeph">-h</samp>) or
        a host file (<samp class="ph codeph">-f</samp>) is required. The <samp class="ph codeph">-J</samp> option allows you to
        specify a single character to substitute for the <var class="keyword varname">hostname</var> in the
          <samp class="ph codeph">copy from</samp> and <samp class="ph codeph">copy to</samp> destination strings. If
          <samp class="ph codeph">-J</samp> is not specified, the default substitution character is an equal sign
          (<samp class="ph codeph">=</samp>). For example, the following command will copy
          <samp class="ph codeph">.bashrc</samp> from the local host to <samp class="ph codeph">/home/gpadmin</samp> on all
        hosts named in <samp class="ph codeph">hostfile_gpssh</samp>:</p>

      <pre class="pre codeblock">gpscp -f hostfile_gpssh .bashrc =:/home/gpadmin</pre>

      <p class="p">If a user name is not specified in the host list or with
          <var class="keyword varname">user</var><samp class="ph codeph">@</samp> in the file path, <samp class="ph codeph">gpscp</samp> will
        copy files as the currently logged in user. To determine the currently logged in user, do a
          <samp class="ph codeph">whoami</samp> command. By default, <samp class="ph codeph">gpscp</samp> goes to
          <samp class="ph codeph">$HOME</samp> of the session user on the remote hosts after login. To ensure the
        file is copied to the correct location on the remote hosts, it is recommended that you use
        absolute paths.</p>

      <p class="p">Before using <samp class="ph codeph">gpscp</samp>, you must have a trusted host setup between the hosts
        involved in the SCP session. You can use the utility <samp class="ph codeph">gpssh-exkeys</samp> to update
        the known host files and exchange public keys between hosts if you have not done so
        already.</p>

    </div>

    <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Options</h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm">-f <var class="keyword varname">hostfile_gpssh</var></dt>

          <dd class="dd pd">Specifies the name of a file that contains a list of hosts that will participate in
            this SCP session. The syntax of the host file is one host per line as follows:</dd>

          <dd class="dd pd">
            <pre class="pre codeblock">&lt;<var class="keyword varname">hostname</var>&gt;</pre>

          </dd>

        
        
          <dt class="dt pt dlterm">-h <var class="keyword varname">hostname</var></dt>

          <dd class="dd pd">Specifies a single host name that will participate in this SCP session. You can use
            the <samp class="ph codeph">-h</samp> option multiple times to specify multiple host names.</dd>

        
        
          <dt class="dt pt dlterm">-J <var class="keyword varname">character</var></dt>

          <dd class="dd pd">The <samp class="ph codeph">-J</samp> option allows you to specify a single character to substitute
            for the <var class="keyword varname">hostname</var> in the <samp class="ph codeph">copy from</samp> and <samp class="ph codeph">copy
              to</samp> destination strings. If <samp class="ph codeph">-J</samp> is not specified, the default
            substitution character is an equal sign (<samp class="ph codeph">=</samp>).</dd>

        
        
          <dt class="dt pt dlterm">-v (verbose mode)</dt>

          <dd class="dd pd">Optional. Reports additional messages in addition to the SCP command output.</dd>

        
        
          <dt class="dt pt dlterm">
            <var class="keyword varname">file_to_copy</var>
          </dt>

          <dd class="dd pd">Required. The file name (or absolute path) of a file that you want to copy to other
            hosts (or file locations). This can be either a file on the local host or on another
            named host.</dd>

        
        
          <dt class="dt pt dlterm">
            <var class="keyword varname">copy_to_path</var>
          </dt>

          <dd class="dd pd">Required. The path where you want the file(s) to be copied on the named hosts. If an
            absolute path is not used, the file will be copied relative to <samp class="ph codeph">$HOME</samp> of
            the session user. You can also use the equal sign '<samp class="ph codeph">=</samp>' (or another
            character that you specify with the <samp class="ph codeph">-J</samp> option) in place of a
              <var class="keyword varname">hostname</var>. This will then substitute in each host name as specified
            in the supplied host file (<samp class="ph codeph">-f</samp>) or with the <samp class="ph codeph">-h</samp>
            option.</dd>

        
        
          <dt class="dt pt dlterm">-? (help)</dt>

          <dd class="dd pd">Displays the online help.</dd>

        
        
          <dt class="dt pt dlterm">--version</dt>

          <dd class="dd pd">Displays the version of this utility.</dd>

        
      </dl>

    </div>

    <div class="section" id="topic1__section5"><h2 class="title sectiontitle">Examples</h2>
      
      <p class="p">Copy the file named <samp class="ph codeph">installer.tar</samp> to <samp class="ph codeph">/</samp> on all the hosts
        in the file <samp class="ph codeph">hostfile_gpssh</samp>:</p>

      <pre class="pre codeblock">gpscp -f hostfile_gpssh installer.tar =:/</pre>

      <p class="p">Copy the file named <var class="keyword varname">myfuncs.so</var> to the specified location on the hosts
        named <samp class="ph codeph">sdw1</samp> and <samp class="ph codeph">sdw2</samp>:</p>

      <pre class="pre codeblock">gpscp -h sdw1 -h sdw2 myfuncs.so =:/usr/local/HAWQ-db/lib</pre>

    </div>

  </div>

<div class="related-links"/>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../hawq-topics/ManagementUtilityReference.html" title="Management Utility Reference"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Management Utility Reference</span></a></span>  </div><div>
<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
      <a href="http://docs.pivotal.io" target="_blank">Pivotal Documentation</a>
      Â© 2014 <a href="http://www.pivotal.io/" target="_blank">Pivotal Software</a>, Inc. All Rights Reserved.
  </div>
  <div class="support">
    Need help? <a href="http://support.pivotal.io" target="_blank">Visit Support</a>
   </div>
  </footer>
</div><!--end of container-->
</div>
</body>
</html>