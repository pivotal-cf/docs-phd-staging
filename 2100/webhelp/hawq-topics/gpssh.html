
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head><meta xmlns="http://www.w3.org/1999/xhtml" name="description" content="Provides SSH access to multiple hosts at once. Synopsis gpssh { -f hostfile_gpssh | - h hostname [ -h hostname ...] } [ -u userid ...] [ -v ] [ -e ] [ bash_command ] gpssh -? gpssh --version ..."/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="copyright" content="(C) Copyright 2005"/><meta name="DC.rights.owner" content="(C) Copyright 2005"/><meta name="DC.Type" content="topic"/><meta name="DC.Title" content="gpssh"/><meta name="DC.Relation" scheme="URI" content="../hawq-topics/ManagementUtilityReference.html"/><meta name="prodname" content=""/><meta name="version" content="2.1.0"/><meta name="release" content=""/><meta name="modification" content=""/><meta name="DC.Format" content="XHTML"/><meta name="DC.Identifier" content="topic1"/><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>gpssh</title><meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Type" content="text/html; charset=utf-8"><!----></meta><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/pivotal.css"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" id="topic1"><script xmlns="http://www.w3.org/1999/xhtml" src="//use.typekit.net/clb0qji.js" type="text/javascript"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  try {
				  Typekit.load();
			  } catch (e) {
			  }
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  document.domain = "pivotal.io";
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			WebFontConfig = {
			  google: { families: [ 'Source+Sans+Pro:300italic,400italic,300,400,600:latin' ] }
			};
			(function() {
			  var wf = document.createElement('script');
			  wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
				'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
			  wf.type = 'text/javascript';
			  wf.async = 'true';
			  var s = document.getElementsByTagName('script')[0];
			  s.parentNode.insertBefore(wf, s);
			})();
		  </script>
<table class="nav"><tbody><tr><td colspan="2"><div id="permalink"><a href="#">linkToThis</a></div><div id="printlink"><a href="javascript:window.print();">printThisPage</a></div></td></tr><tr><td><div class="navheader">
<span class="navparent"><a class="link" href="../hawq-topics/ManagementUtilityReference.html" title="Management Utility Reference"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Management Utility Reference</span></a></span>  </div></td><td width="75%"><a class="navheader_parent_path" href="../hawq-topics/../hawq-topics/HAWQAdministration.html" title="HAWQ Administration">HAWQ Administration</a> / <a class="navheader_parent_path" href="../hawq-topics/ManagementUtilityReference.html" title="Management Utility Reference">Management Utility Reference</a></td></tr></tbody></table>

  <h1 class="title topictitle1">gpssh</h1>

  <div class="body">
    <p class="p">Provides SSH access to multiple hosts at once.</p>

    <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
      
      <pre class="pre codeblock"><strong class="ph b">gpssh</strong> { <strong class="ph b">-f</strong> <var class="keyword varname">hostfile_gpssh</var> | <strong class="ph b">- h</strong> <var class="keyword varname">hostname</var> [<strong class="ph b">-h</strong> <var class="keyword varname">hostname</var> ...] } [<strong class="ph b">-u</strong> <var class="keyword varname">userid</var> ...]
[<strong class="ph b">-v</strong>] [<strong class="ph b">-e</strong>] [<var class="keyword varname">bash_command</var>]

<strong class="ph b">gpssh</strong> <strong class="ph b">-?</strong> 

<strong class="ph b">gpssh</strong> <strong class="ph b">--version</strong></pre>

    </div>

    <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
      
      <p class="p">The <samp class="ph codeph">gpssh</samp> utility allows you to run bash shell commands on multiple hosts
        at once using SSH (secure shell). You can execute a single command by specifying it on the
        command-line, or omit the command to enter into an interactive command-line session. </p>

      <p class="p">To specify the hosts involved in the SSH session, use the <samp class="ph codeph">-f</samp> option to
        specify a file containing a list of host names, or use the <samp class="ph codeph">-h</samp> option to
        name single host names on the command-line. At least one host name (<samp class="ph codeph">-h</samp>) or
        a host file (<samp class="ph codeph">-f</samp>) is required. Note that the current host is
          <strong class="ph b"><em class="ph i">not</em></strong> included in the session by default — to include the local host, you must
        explicitly declare it in the list of hosts involved in the session.</p>

      <p class="p">Before using <samp class="ph codeph">gpssh</samp>, you must have a trusted host setup between the hosts
        involved in the SSH session. You can use the utility <samp class="ph codeph">gpssh-exkeys</samp> to update
        the known host files and exchange public keys between hosts if you have not done so
        already.</p>

      <p class="p">If you do not specify a command on the command-line, <samp class="ph codeph">gpssh</samp> will go into
        interactive mode. At the <samp class="ph codeph">gpssh</samp> command prompt (<samp class="ph codeph">=&gt;</samp>), you
        can enter a command as you would in a regular bash terminal command-line, and the command
        will be executed on all hosts involved in the session. To end an interactive session, press
          <samp class="ph codeph">CTRL</samp>+<samp class="ph codeph">D</samp> on the keyboard or type <samp class="ph codeph">exit</samp> or
          <samp class="ph codeph">quit</samp>.</p>

      <p class="p">If a user name is not specified in the host file, <samp class="ph codeph">gpssh</samp> will execute
        commands as the currently logged in user. To determine the currently logged in user, do a
          <samp class="ph codeph">whoami</samp> command. By default, <samp class="ph codeph">gpssh</samp> goes to
          <samp class="ph codeph">$HOME</samp> of the session user on the remote hosts after login. To ensure
        commands are executed correctly on all remote hosts, you should always enter absolute
        paths.</p>

    </div>

    <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Options</h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm">
            <var class="keyword varname">bash_command</var>
          </dt>

          <dd class="dd pd">A bash shell command to execute on all hosts involved in this session (optionally
            enclosed in quotes). If not specified, <samp class="ph codeph">gpssh</samp> will start an interactive
            session.</dd>

        
        
          <dt class="dt pt dlterm">-e (echo)</dt>

          <dd class="dd pd">Optional. Echoes the commands passed to each host and their resulting output while
            running in non-interactive mode.</dd>

        
        
          <dt class="dt pt dlterm">-f <var class="keyword varname">hostfile_gpssh</var></dt>

          <dd class="dd pd">Specifies the name of a file that contains a list of hosts that will participate in
            this SSH session. The host name is required, and you can optionally specify an alternate
            user name and/or SSH port number per host. The syntax of the host file is one host per
            line as follows:</dd>

          <dd class="dd pd">
            <pre class="pre codeblock">[<var class="keyword varname">username</var>@]<var class="keyword varname">hostname</var>[:<var class="keyword varname">ssh_port</var>]</pre>

          </dd>

        
        
          <dt class="dt pt dlterm">-h <var class="keyword varname">hostname</var></dt>

          <dd class="dd pd">Specifies a single host name that will participate in this SSH session. You can use
            the <samp class="ph codeph">-h</samp> option multiple times to specify multiple host names.</dd>

        
        
          <dt class="dt pt dlterm">-u<var class="keyword varname">userid</var></dt>

          <dd class="dd pd">Specifies the userid for this SSH session.</dd>

        
        
          <dt class="dt pt dlterm">-v (verbose mode)</dt>

          <dd class="dd pd">Optional. Reports additional messages in addition to the command output when running
            in non-interactive mode.</dd>

        
        
          <dt class="dt pt dlterm">--version</dt>

          <dd class="dd pd">Displays the version of this utility.</dd>

        
        
          <dt class="dt pt dlterm">-? (help)</dt>

          <dd class="dd pd">Displays the online help.</dd>

        
      </dl>

    </div>

    <div class="section" id="topic1__section5"><h2 class="title sectiontitle">Examples</h2>
      
      <p class="p">Start an interactive group SSH session with all hosts listed in the file
          <samp class="ph codeph">hostfile_gpssh</samp>:</p>

      <pre class="pre codeblock">$ gpssh -f hostfile_gpssh</pre>

      <p class="p">At the <samp class="ph codeph">gpssh</samp> interactive command prompt, run a shell command on all the
        hosts involved in this session.</p>

      <pre class="pre codeblock">=&gt; ls -a /data/primary/*</pre>

      <p class="p">Exit an interactive session:</p>

      <pre class="pre codeblock">=&gt; exit</pre>

      <p class="p">Start a non-interactive group SSH session with the hosts named <samp class="ph codeph">sdw1</samp> and
          <samp class="ph codeph">sdw2</samp> and pass a file containing several commands named
          <samp class="ph codeph">command_file</samp> to <samp class="ph codeph">gpssh</samp>:</p>

      <pre class="pre codeblock">$ gpssh -h sdw1 -h sdw2 -v -e &lt; command_file</pre>

      <p class="p">Execute single commands in non-interactive mode on hosts <samp class="ph codeph">sdw2</samp> and
          <samp class="ph codeph">localhost</samp>:</p>

      <pre class="pre codeblock">$ gpssh -h sdw2 -h localhost -v -e 'ls -a /data/primary/*'
$ gpssh -h sdw2 -h localhost -v -e 'echo $GPHOME'
$ gpssh -h sdw2 -h localhost -v -e 'ls -1 | wc -l'</pre>

    </div>

    <div class="section"><h2 class="title sectiontitle">See Also</h2>
      
      <p class="p"><samp class="ph codeph"><a class="xref" href="gpssh-exkeys.html">gpssh-exkeys</a></samp>, <samp class="ph codeph"><a class="xref" href="gpscp.html">gpscp</a></samp></p>

    </div>

  </div>

<div class="related-links"/>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../hawq-topics/ManagementUtilityReference.html" title="Management Utility Reference"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Management Utility Reference</span></a></span>  </div><div>
<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
      <a href="http://docs.pivotal.io" target="_blank">Pivotal Documentation</a>
      © 2014 <a href="http://www.pivotal.io/" target="_blank">Pivotal Software</a>, Inc. All Rights Reserved.
  </div>
  <div class="support">
    Need help? <a href="http://support.pivotal.io" target="_blank">Visit Support</a>
   </div>
  </footer>
</div><!--end of container-->
</div>
</body>
</html>