
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head><meta xmlns="http://www.w3.org/1999/xhtml" name="description" content="About Hadoop YARN Installing Hadoop YARN Hadoop YARN RPM Packages Prerequisites: Core Package Setup YARN ResourceManager Setup YARN NodeManager Setup Mapreduce HistoryServer Setup YARN ProxyServer ..."/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="copyright" content="(C) Copyright 2005"/><meta name="DC.rights.owner" content="(C) Copyright 2005"/><meta name="DC.Type" content="topic"/><meta name="DC.Title" content="Hadoop YARN"/><meta name="DC.Relation" scheme="URI" content="../topics/ManuallyInstallingandUsingPivotalHD21Stack.html"/><meta name="prodname" content=""/><meta name="version" content="2.1.0"/><meta name="release" content=""/><meta name="modification" content=""/><meta name="DC.Format" content="XHTML"/><meta name="DC.Identifier" content="hadoopyarn"/><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Hadoop YARN</title><meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Type" content="text/html; charset=utf-8"><!----></meta><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/pivotal.css"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" id="hadoopyarn"><script xmlns="http://www.w3.org/1999/xhtml" src="//use.typekit.net/clb0qji.js" type="text/javascript"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  try {
				  Typekit.load();
			  } catch (e) {
			  }
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  document.domain = "pivotal.io";
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			WebFontConfig = {
			  google: { families: [ 'Source+Sans+Pro:300italic,400italic,300,400,600:latin' ] }
			};
			(function() {
			  var wf = document.createElement('script');
			  wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
				'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
			  wf.type = 'text/javascript';
			  wf.async = 'true';
			  var s = document.getElementsByTagName('script')[0];
			  s.parentNode.insertBefore(wf, s);
			})();
		  </script>
<table class="nav"><tbody><tr><td colspan="2"><div id="permalink"><a href="#">linkToThis</a></div><div id="printlink"><a href="javascript:window.print();">printThisPage</a></div></td></tr><tr><td><div class="navheader">
<span class="navparent"><a class="link" href="../topics/ManuallyInstallingandUsingPivotalHD21Stack.html" title="Manually Installing and Using Pivotal HD 2.1 Stack"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Manually Installing and Using Pivotal HD 2.1 Stack</span></a></span>  </div></td><td width="75%"><a class="navheader_parent_path" href="../topics/../topics/StackandToolsReference.html" title="Stack and Tools Reference">Stack and Tools Reference</a> / <a class="navheader_parent_path" href="../topics/ManuallyInstallingandUsingPivotalHD21Stack.html" title="Manually Installing and Using Pivotal HD 2.1 Stack">Manually Installing and Using Pivotal HD 2.1 Stack</a></td></tr></tbody></table>

   <h1 class="title topictitle1">Hadoop YARN</h1>

   <div class="body">
      <ul class="ul">
         <li class="li">
            <a class="xref" href="#abouthadoopyarn">About Hadoop YARN</a>
         </li>

         <li class="li">
            <a class="xref" href="#installinghadoopyarn">Installing Hadoop YARN</a>
            <ul class="ul">
               <li class="li">
                  <a class="xref" href="#hadoopyarnrpmpackages">Hadoop YARN RPM Packages</a>
               </li>

               <li class="li">
                  <a class="xref" href="#prerequisitescorepackagesetup">Prerequisites: Core Package Setup</a>
               </li>

               <li class="li">
                  <a class="xref" href="#yarnresourcemanagersetup">YARN ResourceManager Setup</a>
               </li>

               <li class="li">
                  <a class="xref" href="#yarnnodemanagersetup">YARN NodeManager Setup</a>
               </li>

               <li class="li">
                  <a class="xref" href="#mapreducehistoryserversetup">Mapreduce HistoryServer Setup</a>
               </li>

               <li class="li">
                  <a class="xref" href="#yarnproxyserversetup">YARN ProxyServer Setup</a>
               </li>

               <li class="li">
                  <a class="xref" href="#yarnconfiguration">YARN Configuration</a>
               </li>

            </ul>

         </li>

         <li class="li">
            <a class="xref" href="#usinghadoopyarn">Using Hadoop YARN</a>
            <ul class="ul">
               <li class="li">
                  <a class="xref" href="#startingyarn">Starting YARN</a>
               </li>

               <li class="li">
                  <a class="xref" href="#startingresourcemanager">Starting ResourceManager</a>
               </li>

               <li class="li">
                  <a class="xref" href="#startingnodemanager">Starting NodeManager</a>
               </li>

               <li class="li">
                  <a class="xref" href="#startmapreducehistoryserver">Start MapReduce HistoryServer</a>
               </li>

               <li class="li">
                  <a class="xref" href="#usingyarn">Using YARN</a>
               </li>

               <li class="li">
                  <a class="xref" href="#stoppingyarn">Stopping YARN</a>
               </li>

            </ul>

         </li>

      </ul>

   </div>

   <div class="related-links"/>
<div class="topic nested1" id="abouthadoopyarn">
      <h2 class="title topictitle2">About Hadoop YARN</h2>

      <div class="body">
         <p class="p">Hadoop MapReduce is a software framework for easily writing applications which process
            vast amounts of data (multi-terabyte data-sets) in-parallel on large clusters (thousands
            of nodes) of commodity hardware in a reliable, fault-tolerant manner.</p>

         <p class="p">Apache overhauled MapReduce and released MapReduce 2.0 (MRv2) or YARN.  YARN now splits
            the major functionalities of the JobTracker, resource management and job
            scheduling/monitoring, into separate daemons.</p>

      </div>

   </div>

   <div class="topic nested1" id="installinghadoopyarn">
      <h2 class="title topictitle2">Installing Hadoop YARN</h2>

      <div class="body">
         <p class="p">This section provides instructions for installing each of the following core Hadoop YARN
            RPMs:</p>

         <ul class="ul">
            <li class="li">YARN ResourceManager Setup</li>

            <li class="li">YARN NodeManager Setup</li>

            <li class="li">Mapreduce HistoryServer Setup</li>

            <li class="li">YARN ProxyServer Setup</li>

         </ul>

      </div>

      <div class="topic nested2" id="hadoopyarnrpmpackages">
         <h3 class="title topictitle3">Hadoop YARN RPM Packages</h3>

         <div class="body">
            <p class="p">Pivotal provides the following RPMs as part of this release. The core packages
               provide all executables, libraries, configurations, and documentation for Hadoop and
               is required on every node in the Hadoop cluster, as well as on the client workstation
               that will access the Hadoop service. The daemon packages provide a convenient way to
               manage Hadoop YARN daemons as Linux services, which rely on the core package.</p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_oh3_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Core </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">bigtop-utils, zookeeper-core </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Hadoop core packages provides the common
                           core packages for running Hadoop. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Every node in the Hadoop cluster and the
                           client workstation that will access the Hadoop service </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_dm3_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-yarn-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Core </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">hadoop </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Hadoop YARN core packages provides common
                           files for running YARN. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">All YARN nodes </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_yq3_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-yarn-resourcemanager-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">hadoop-yarn </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon scripts package for Hadoop YARN
                           ResourceManager, which provides a convenient method to manage
                           ResourceManager start/stop as a Linux service. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">ResourceManager node </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_mv3_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-yarn-nodemanager-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">hadoop-yarn </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon scripts package for Hadoop YARN
                           NodeManager, which provides a convenient method to manage NodeManager
                           start/stop as a Linux service. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">All NodeManager nodes </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_b1j_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-yarn-proxyserver-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">hadoop-yarn </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon scripts package for Hadoop YARN
                           ProxyServer, which provides a convenient method to manage ProxyServer
                           start/stop as a Linux service. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Node that will act as a proxy server from
                           the user to applicationmaster </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_p2j_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-mapreduce-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Core </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">hadoop-yarn </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Hadoop Mapreduce core libraries. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">All ResourceManager and NodeManager nodes
                        </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_ejj_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-mapreduce-historyserver-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">hadoop, hadoop-mapreduce </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Daemon scripts package for Hadoop
                           MapReduce HistoryServer, which provides a convenient method to manage
                           MapReduce HistoryServer start/stop as a Linux service. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Host that will act as the MapReduce
                           HistoryServer </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_snj_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-doc-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Doc </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">N/A </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Hadoop documentation package. </td>

                     </tr>

                  </tbody>

               </table>
</div>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="hadoopyarnrpmpackages__table_nsj_y1f_4p" class="table" frame="border" border="1" rules="all">
                  
                  
                  <tbody class="tbody">
                     <tr class="row">
                        <td class="entry confluenceTd" colspan="2" valign="top">
                           <strong class="ph b">hadoop-client-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</strong>
                        </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Type</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Library </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Requires</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">hadoop, hadoop-hdfs, hadoop-yarn,
                           hadoop-mapreduce </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Description</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">A set of symbolic links which gathers the
                           libraries for programming Hadoop and submit Hadoop jobs. </td>

                     </tr>

                     <tr class="row">
                        <td class="entry confluenceTd" valign="top">
                           <strong class="ph b">Install on Nodes</strong>
                        </td>

                        <td class="entry confluenceTd" valign="top">Clients nodes that will be used to submit
                           Hadoop jobs </td>

                     </tr>

                  </tbody>

               </table>
</div>

         </div>

      </div>

      <div class="topic nested2" id="prerequisitescorepackagesetup">
         <h3 class="title topictitle3">Prerequisites: Core Package Setup</h3>

         <div class="body">
            <p class="p">Perform the following steps on all the nodes in the Hadoop cluster and its client
               nodes:</p>

            <pre class="pre codeblock">$ sudo rpm -ivh working_dir/utility/rpm/bigtop-utils-&lt;PHD_BIGTOP_UTILS_VERSION&gt;-&lt;nn&gt;.noarch.rpm
$ sudo rpm -ivh working_dir/zookeeper/rpm/zookeeper-&lt;PHD_ZOOKEEPER_VERSION&gt;-&lt;nn&gt;.noarch.rpm
$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</pre>

            <p class="p">Where <samp class="ph codeph">working_dir</samp> is the directory where you want the rpms
               expanded.</p>

         </div>

      </div>

      <div class="topic nested2" id="yarnresourcemanagersetup">
         <h3 class="title topictitle3">YARN ResourceManager Setup</h3>

         <div class="body">
            <p class="p">Install the YARN ResourceManager package on the workstation that will serve as YARN
               ResourceManager:</p>

            <pre class="pre codeblock">$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-yarn-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm
$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-yarn-resourcemanager-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</pre>

         </div>

      </div>

      <div class="topic nested2" id="yarnnodemanagersetup">
         <h3 class="title topictitle3">YARN NodeManager Setup</h3>

         <div class="body">
            <p class="p">Install the YARN NodeManager package on the workstation that will serve as YARN
               nodes:</p>

            <pre class="pre codeblock">$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-yarn-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm
$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-yarn-nodemanager-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</pre>

         </div>

      </div>

      <div class="topic nested2" id="mapreducehistoryserversetup">
         <h3 class="title topictitle3">Mapreduce HistoryServer Setup</h3>

         <div class="body">
            <p class="p">Install the YARN Mapreduce History Manager package and its dependency packages on the
               workstation that will serve as the MapReduce History Server:</p>

            <pre class="pre codeblock">$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-yarn-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm
$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-mapreduce-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm
$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-mapreduce-historyserver-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</pre>

         </div>

      </div>

      <div class="topic nested2" id="yarnproxyserversetup">
         <h3 class="title topictitle3">YARN ProxyServer Setup</h3>

         <div class="body">
            <p class="p">Install the YARN Proxy Server package and its dependency packages on the workstation
               that will serve as the YARN Proxy Server.</p>

            <pre class="pre codeblock">$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-yarn-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm
$ sudo rpm -ivh working_dir/hadoop/rpm/hadoop-yarn-proxyserver-&lt;PHD_HADOOP_VERSION&gt;-&lt;nn&gt;.x86_64.rpm</pre>

         </div>

      </div>

      <div class="topic nested2" id="yarnconfiguration">
         <h3 class="title topictitle3">YARN Configuration</h3>

         <div class="body">
            <p class="p">Yarn configuration files are located in the following directory:</p>

            <p class="p">
               <span class="ph filepath">/etc/gphd/hadoop/conf/</span>
            </p>

            <p class="p">Refer to the Apache Hadoop documentation for how to configure YARN in distributed
               mode.</p>

         </div>

      </div>

   </div>

   <div class="topic nested1" id="usinghadoopyarn">
      <h2 class="title topictitle2">Using Hadoop YARN</h2>

      <div class="topic nested2" id="startingyarn">
         <h3 class="title topictitle3">Starting YARN</h3>

         <div class="body">
            <div class="p">YARN includes three services: <ul class="ul" id="startingyarn__ul_swy_rk1_tp">
                  <li class="li">ResourceManager (RM)</li>

                  <li class="li">NodeManager (NM)</li>

                  <li class="li">MapReduce HistoryManager (MRHM)</li>

               </ul>
</div>

            <p class="p">RM and NM are required, MRHM is optional.</p>

            <p class="p">Before you start these services, create some working directories on HDFS, as
               follows:</p>

            <p class="p">
               <strong class="ph b">Create working directories on HDFS:</strong>
            </p>

            <p class="p">The examples we show here are only examples; the exact steps depend upon your own
               environment and directory setup.</p>

            <pre class="pre codeblock">$ sudo -u hdfs hdfs dfs -mkdir /tmp
$ sudo -u hdfs hdfs dfs -chmod 777 /tmp
$ sudo -u hdfs hdfs dfs -mkdir -p /var/log/gphd/hadoop-yarn
$ sudo -u hdfs hdfs dfs -chown yarn:hadoop /var/log/gphd/hadoop-yarn
$ sudo -u hdfs hdfs dfs -mkdir -p /user/history
$ sudo -u hdfs hdfs dfs -chown mapred:hadoop /user/history
$ sudo -u hdfs hdfs dfs -chmod -R 777 /user/history
$ sudo -u hdfs hdfs dfs -mkdir -p /user/hadoop
$ sudo -u hdfs hdfs dfs -chown hadoop:hadoop /user/hadoop</pre>

         </div>

      </div>

      <div class="topic nested2" id="startingresourcemanager">
         <h3 class="title topictitle3">Starting ResourceManager</h3>

         <div class="body">
            <p class="p">The RM daemon only needs to be started on the master node.</p>

            <pre class="pre codeblock">$ sudo service hadoop-yarn-resourcemanager start</pre>

            <p class="p">Once RM is started, you can visit its dashboard at:
                  <samp class="ph codeph">http://localhost:8088/</samp></p>

         </div>

      </div>

      <div class="topic nested2" id="startingnodemanager">
         <h3 class="title topictitle3">Starting NodeManager</h3>

         <div class="body">
            <p class="p">The NodeManager daemon needs to be started on all hosts that will be used as working
               nodes.</p>

            <p class="p">To start NodeManager, run:</p>

            <pre class="pre codeblock">$ sudo service hadoop-yarn-nodemanager start</pre>

         </div>

      </div>

      <div class="topic nested2" id="startmapreducehistoryserver">
         <h3 class="title topictitle3">Start MapReduce HistoryServer</h3>

         <div class="body">
            <p class="p">MapReduce HistoryServer only needs to be run on the server that is meant to be the
               history server. It is an optional service and should only be enabled if you want to
               keep track of the MapReduce jobs that have been run.</p>

            <p class="p">To start the MapReduce History Server, run:</p>

            <pre class="pre codeblock">$ sudo service hadoop-mapreduce-historyserver start</pre>

            <p class="p">When the MR HistoryServer is started, you can visit its dashboard at:
                  <samp class="ph codeph">http://localhost:19888/</samp></p>

         </div>

      </div>

      <div class="topic nested2" id="usingyarn">
         <h3 class="title topictitle3">Using YARN</h3>

         <div class="body">
            <p class="p">After RM and NM are started, you can now submit YARN applications.</p>

            <p class="p">For simplicity, we assume you are running Hadoop in pseudo-distributed mode using the
               default pseudo configuration.</p>

            <div class="note note"><span class="notetitle">Note:</span> Before you start using YARN, make sure the HDFS daemons are running.</div>

            <p class="p">Here is an example MapReduce job:</p>

            <pre class="pre codeblock">$ hadoop jar /usr/lib/gphd/hadoop-mapreduce/hadoop-mapreduce-examples-*.jar pi 2 200</pre>

            <p class="p">This runs the PI generation example. You can track the progress of this job at the RM
               dashboard: <samp class="ph codeph"> http://localhost:8088/ </samp>
            </p>

            <p class="p">You can also run other MapReduce examples, for example the following command will
               print a list of available examples:</p>

            <pre class="pre codeblock">$ hadoop jar /usr/lib/gphd/hadoop-mapreduce/hadoop-mapreduce-examples-*.jar</pre>

         </div>

      </div>

      <div class="topic nested2" id="stoppingyarn">
         <h3 class="title topictitle3">Stopping YARN</h3>

         <div class="body">
            <p class="p">Stop the YARN daemons manually by running the following commands.</p>

            <p class="p">
               <strong class="ph b">To stop the MapReduce HistoryServer Daemon:</strong>
            </p>

            <pre class="pre codeblock">$ sudo service hadoop-mapreduce-historyserver stop</pre>

            <p class="p">
               <strong class="ph b">To stop the NodeManager Daemon:</strong>
            </p>

            <pre class="pre codeblock">$ sudo service hadoop-yarn-nodemanager stop</pre>

            <p class="p">
               <strong class="ph b">To stop the ResourceManager Daemon:</strong>
            </p>

            <pre class="pre codeblock">$ sudo service hadoop-yarn-resourcemanager stop</pre>

         </div>

      </div>

   </div>

<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../topics/ManuallyInstallingandUsingPivotalHD21Stack.html" title="Manually Installing and Using Pivotal HD 2.1 Stack"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Manually Installing and Using Pivotal HD 2.1 Stack</span></a></span>  </div><div>
<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
      <a href="http://docs.pivotal.io" target="_blank">Pivotal Documentation</a>
      © 2014 <a href="http://www.pivotal.io/" target="_blank">Pivotal Software</a>, Inc. All Rights Reserved.
  </div>
  <div class="support">
    Need help? <a href="http://support.pivotal.io" target="_blank">Visit Support</a>
   </div>
  </footer>
</div><!--end of container-->
</div>
</body>
</html>