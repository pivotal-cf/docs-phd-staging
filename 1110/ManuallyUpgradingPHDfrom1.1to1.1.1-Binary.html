
<!doctype html>
<html>
<head>
  <meta charset="utf-8">

  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <!-- REPLACE X WITH PRODUCT NAME -->
  <title>Manually Upgrading PHD from 1.1 to 1.1.1 - Binary | Pivotal HD/PCC/ADS Documentation</title>
  <!-- Local CSS stylesheets -->
  <link href="/stylesheets/master.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/breadcrumbs.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/search.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/portal-style.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/printable.css" media="print" rel="stylesheet" type="text/css" /> 
  <!-- Confluence HTML stylesheet -->
  <link href="/stylesheets/site-conf.css" media="screen,print" rel="stylesheet"  type="text/css" /> 
  <!-- Left-navigation code -->
  <!-- http://www.designchemical.com/lab/jquery-vertical-accordion-menu-plugin/examples/# -->
  <link href="/stylesheets/dcaccordion.css" rel="stylesheet" type="text/css" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.cookie.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.hoverIntent.minified.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.dcjqaccordion.2.7.min.js" type="text/javascript"></script>
  <script type="text/javascript">
                    $(document).ready(function($){
					$('#accordion-1').dcAccordion({
						eventType: 'click',
						autoClose: true,
						saveState: true,
						disableLink: false,
						speed: 'fast',
						classActive: 'test',
						showCount: false
					});
					});
  </script>
  
  <link href="/stylesheets/grey.css" rel="stylesheet" type="text/css" /> 
  <!-- End left-navigation code -->
  <script src="/javascripts/all.js" type="text/javascript"></script>
  <link href='http://www.gopivotal.com/misc/favicon.ico' rel='shortcut icon'>
</head>

<body class="pivotalcf pivotalcf_getstarted pivotalcf_getstarted_index">
  <div class="viewport">
    <div class="mobile-navigation--wrapper mobile-only">
      <div class="navigation-drawer--container">
        <div class="navigation-item-list">
          <div class="navbar-link active">
            <a href="http://gopivotal.com">
              Home
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/paas">
              PaaS
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/big-data">
              Big Data
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/agile">
              Agile
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/support">
              Help &amp; Support
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/products">
              Products
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/solutions">
              Solutions
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/partners">
              Partners
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="mobile-nav">
        <div class="nav-icon js-open-nav-drawer">
          <i class="icon-reorder"></i>
        </div>
        <div class="header-center-icon">
          <a href="http://gopivotal.com">
            <div class="icon icon-pivotal-logo-mobile"></div>
          </a>
        </div>
      </div>
    </div>

    <div class='wrap'>
      <script src="//use.typekit.net/clb0qji.js" type="text/javascript"></script>
      <script type="text/javascript">
          try {
              Typekit.load();
          } catch (e) {
          }
      </script>
      <script type="text/javascript">
          document.domain = "gopivotal.com";
      </script>
      <div id="search-dropdown-box">
        <div class="search-dropdown--container js-search-dropdown">
          <div class="container-fluid">
            <div class="close-menu-large"><img src="http://www.gopivotal.com/sites/all/themes/gopo13/images/icon-close.png" /></div>
            <div class="search-form--container">
              <div class="form-search">
                <div class='gcse-search'></div>
                <script src="http://www.google.com/jsapi" type="text/javascript"></script>
                <script src="/javascripts/cse.js" type="text/javascript"></script>
              </div>
            </div>
          </div>
        </div>
      </div>

      <header class="navbar desktop-only" id="nav">
        <div class="navbar-inner">
            <div class="container-fluid">
                <div class="pivotal-logo--container">
                    <a class="pivotal-logo" href="http://gopivotal.com"><span></span></a>
                </div>

                <ul class="nav pull-right">
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/paas" id="paas-nav-link">PaaS</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/big-data" id="big-data-nav-link">BIG DATA</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/agile" id="agile-nav-link">AGILE</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/oss" id="oss-nav-link">OSS</a>
                    </li>
                    <li class="nav-search">
                        <a class="js-search-input-open" id="click-to-search"><span></span></a>
                    </li>
                </ul>
            </div>
            <a href="http://www.gopivotal.com/contact">
                <img id="get-started" src="http://www.gopivotal.com/sites/all/themes/gopo13/images/get-started.png">
            </a>
        </div>
      </header>
      <div class="main-wrap">
        <div class="container-fluid">

          <!-- Google CSE Search Box -->
          <div id='docs-search'>
              <gcse:search></gcse:search>
          </div>
          
          <div id='all-docs-link'>
            <a href="/">All Documentation</a>
          </div>
          
          <div class="container">
            <div id="sub-nav" class="nav-container">              
              
              <!-- Collapsible left-navigation-->
			  <ul class="accordion"  id="accordion-1">
				  <!-- REPLACE <li/> NODES-->

                        <li>
                <a href="index.html">Home</a>
                        </li>

                        <li>
                <a href="PivotalHD.html">Pivotal HD 1.1.1</a>

                            <ul>
                    <li>
                <a href="PHDEnterprise1.1.1ReleaseNotes.html">PHD Enterprise 1.1.1 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDServiceBrokerforPivotalCFv1.0.0.0.html">PHD Service Broker for Pivotal CF v1.0.0.0</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDInstallationandAdministration.html">PHD Installation and Administration</a>

                            <ul>
                    <li>
                <a href="OverviewofPHD.html">Overview of PHD</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingPHDUsingtheCLI.html">Installing PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UpgradingPHDUsingtheCLI.html">Upgrading PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="AdministeringPHDUsingtheCLI.html">Administering PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDFAQFrequentlyAskedQuestions.html">PHD FAQ (Frequently Asked Questions)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDTroubleshooting.html">PHD Troubleshooting</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="StackandToolsReference.html">Stack and Tools Reference</a>

                            <ul>
                    <li>
                <a href="OverviewofApacheStackandPivotalComponents.html">Overview of Apache Stack and Pivotal Components</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHD1.1.1Stack-RPMPackage.html">PHD 1.1.1 Stack - RPM Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHD1.1.1Stack-BinaryPackage.html">PHD 1.1.1 Stack - Binary Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDMR11.1Stack-RPMPackage.html">PHD MR1 1.1 Stack - RPM Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDMR11.1Stack-BinaryPackage.html">PHD MR1 1.1 Stack - Binary Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDStack-OtherComponents.html">PHD Stack - Other Components</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="USSUnifiedStorageSystem.html">USS (Unified Storage System)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HVEHadoopVirtualizationExtensions.html">HVE (Hadoop Virtualization Extensions)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="Security.html">Security</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManuallyUpgradingPHDfrom1.1to1.1.1-RPM.html">Manually Upgrading PHD from 1.1 to 1.1.1 - RPM</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary.html">Manually Upgrading PHD from 1.1 to 1.1.1 - Binary</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderInstallationandUsage.html">DataLoader Installation and Usage</a>

                            <ul>
                    <li>
                <a href="OverviewofDataLoader.html">Overview of DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingandConfiguringDataLoader.html">Installing and Configuring DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UsingDataLoader.html">Using DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="LoadingFilesandPushStreamsintoHAWQUsingPXF.html">Loading Files and Push Streams into HAWQ Using PXF</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderCommandLineInterface.html">DataLoader Command Line Interface</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderCopyStrategyandTransferPolicy.html">DataLoader Copy Strategy and Transfer Policy</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="JobTransferSpecification.html">Job (Transfer) Specification</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataStores.html">Data Stores</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ConfiguringFlumeforDataLoaderPushStreaming.html">Configuring Flume for DataLoader Push Streaming</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderInstallationfromBinaries.html">DataLoader Installation from Binaries</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
                        <li>
                <a href="PivotalCommandCenter.html">Pivotal Command Center 2.1.1</a>

                            <ul>
                    <li>
                <a href="PCC2.1.1ReleaseNotes.html">PCC 2.1.1 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PCCUserGuide.html">PCC User Guide</a>

                            <ul>
                    <li>
                <a href="PCCOverview.html">PCC Overview</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingPCC.html">Installing PCC</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UsingPCC.html">Using PCC</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="CreatingaYUMEPELRepository.html">Creating a YUM EPEL Repository</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="CommandLineReference.html">Command Line Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
                        <li>
                <a href="PivotalAdvancedDatabaseServices.html">Pivotal Advanced Database Services 1.1.4</a>

                            <ul>
                    <li>
                <a href="PADS1.1.4ReleaseNotes.html">PADS 1.1.4 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQInstallation.html">HAWQ Installation</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQAdministration.html">HAWQ Administration</a>

                            <ul>
                    <li>
                <a href="HAWQOverview.html">HAWQ Overview</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQQueryProcessing.html">HAWQ Query Processing</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="QueryingData.html">Querying Data</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ConfiguringClientAuthentication.html">Configuring Client Authentication</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="KerberosAuthentication.html">Kerberos Authentication</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQInputFormatforMapReduce.html">HAWQ InputFormat for MapReduce</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="SQLCommandReference.html">SQL Command Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManagementUtilityReference.html">Management Utility Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ClientUtilityReference.html">Client Utility Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ServerConfigurationParameters.html">Server Configuration Parameters</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQEnvironmentVariables.html">HAWQ Environment Variables</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQDataTypes.html">HAWQ Data Types</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="MADlibReferences.html">MADlib References</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="hawq_toolkitReference.html">hawq_toolkit Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="PivotalExtensionFrameworkPXF.html">Pivotal Extension Framework (PXF)</a>

                            <ul>
                    <li>
                <a href="PXFInstallationandAdministration.html">PXF Installation and Administration</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PXFExternalTableandAPIReference.html">PXF External Table and API Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
              </ul>        
              
            </div><!--end of sub-nav-->
            <div class="body-container content">

              <!-- Python script replaces main content -->
			  <div id ="main"><h1>Manually Upgrading PHD from 1.1 to 1.1.1 - Binary</h1><div class="wiki-content group" id="main-content">
<style type="text/css">/*<![CDATA[*/
div.rbtoc1390012351237 {padding: 0px;}
div.rbtoc1390012351237 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1390012351237 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class="toc rbtoc1390012351237">
<ul class="toc-indentation">
</ul>
</div><p><style type="text/css">/*<![CDATA[*/
div.rbtoc1390012351235 {padding: 0px;}
div.rbtoc1390012351235 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1390012351235 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class="toc rbtoc1390012351235">
<ul class="toc-indentation">
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-AccessingPHD1.1.1StackBinaryPackage">Accessing PHD 1.1.1 Stack Binary Package</a>
<ul class="toc-indentation">
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-VersionTable">Version Table</a></li>
</ul>
</li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-ComponentstobeUpgraded">Components to be Upgraded</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-Prerequisites">Prerequisites</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeZookeeper">Upgrade Zookeeper</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHadoop">Upgrade Hadoop</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHBase">Upgrade HBase</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHive">Upgrade Hive</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradePig">Upgrade Pig</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeFlume">Upgrade Flume</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeSqoop">Upgrade Sqoop</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeMahout">Upgrade Mahout</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeOozie">Upgrade Oozie</a></li>
<li><a href="#ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHCatalog">Upgrade HCatalog</a></li>
</ul>
</div></p><style type="text/css">/*<![CDATA[*/
div.rbtoc1390012351237 {padding: 0px;}
div.rbtoc1390012351237 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1390012351237 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class="toc rbtoc1390012351237">
<ul class="toc-indentation">
</ul>
</div><p>PHD supports stack level upgrade and does not support component level upgrade. All PHD component should come from same package and all PHD components need to upgrade to same version.</p><p>Note: This section includes upgrade instructions for Yarn-based clusters.</p><p>For each component upgrade, the following steps need to follow:</p><ul><li>Stop Service</li><li>Backup Configuration</li><li>Binary Upgrade</li><li>Restore Configuration</li><li>Restart Service</li></ul><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-AccessingPHD1.1.1StackBinaryPackage">Accessing PHD 1.1.1 Stack Binary Package</h2><p>You can download the PHD 1.1.1 Stack Binary Packages from EMC Download Center.</p><p>This is a single tar.gz file containing all the components: PHD-1.1.1.0-bin-xx.tar.gz. ( Here "x" denotes a digital number )</p><p>The content of this tar file looks like this:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">PHD-1.1.1.0-bin-35/flume/tar/apache-flume-1.3.1-gphd-2.1.1.0-bin.tar.gz
PHD-1.1.1.0-bin-35/hadoop/tar/hadoop-2.0.5-alpha-gphd-2.1.1.0.tar.gz
PHD-1.1.1.0-bin-35/hbase/tar/hbase-0.94.8-gphd-2.1.1.0-security.tar.gz
PHD-1.1.1.0-bin-35/hive/tar/hive-0.11.0-gphd-2.1.1.0.tar.gz
PHD-1.1.1.0-bin-35/mahout/tar/mahout-distribution-0.7-gphd-2.1.1.0.tar.gz
PHD-1.1.1.0-bin-35/oozie/tar/oozie-3.3.2-gphd-2.1.1.0-distro.tar.gz
PHD-1.1.1.0-bin-35/pig/tar/pig-0.12.0-gphd-2.1.1.0.tar.gz
PHD-1.1.1.0-bin-35/sqoop/tar/sqoop-1.4.2-gphd-2.1.1.0.tar.gz
PHD-1.1.1.0-bin-35/zookeeper/tar/zookeeper-3.4.5-gphd-2.1.1.0.tar.gz</pre>
</div></div><p>Note: md5 files are not listed here.</p><h3 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-VersionTable">Version Table</h3><p>Here's the PHD version number for each components in this package:</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Component</th><th class="confluenceTh">PHD Version</th><th class="confluenceTh">Version Placeholder</th></tr><tr><td class="confluenceTd">ZooKeeper</td><td class="confluenceTd"><pre>3.4.5-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_ZOOKEEPER_VERSION&gt;</td></tr><tr><td class="confluenceTd">Hadoop</td><td class="confluenceTd"><pre>2.0.5-alpha-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_HADOOP_VERSION&gt;</td></tr><tr><td class="confluenceTd">HBase</td><td class="confluenceTd"><pre>0.94.8-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_HBASE_VERSION&gt;</td></tr><tr><td class="confluenceTd">Hive</td><td class="confluenceTd"><pre>0.11.0-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_HIVE_VERSION&gt;</td></tr><tr><td class="confluenceTd">HCatalog</td><td class="confluenceTd"><pre>0.11.0-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_HCATALOG_VERSION&gt;</td></tr><tr><td class="confluenceTd">Pig</td><td class="confluenceTd"><pre>0.12.0-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_PIG_VERSION&gt;</td></tr><tr><td class="confluenceTd">Mahout</td><td class="confluenceTd"><pre>0.7-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_MAHOUT_VERSION&gt;</td></tr><tr><td class="confluenceTd">Flume</td><td class="confluenceTd"><pre>1.3.1-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_FLUME_VERSION&gt;</td></tr><tr><td class="confluenceTd">Sqoop</td><td class="confluenceTd"><pre>1.4.2-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_SQOOP_VERSION&gt;</td></tr><tr><td class="confluenceTd">Oozie</td><td class="confluenceTd"><pre>3.3.2-gphd-2.1.1.0</pre></td><td class="confluenceTd">&lt;PHD_OOZIE_VERSION&gt;</td></tr></tbody></table></div><p> </p><p>In the sections below, we will use the values in the "Version Placeholder" to replace the actual PHD Version. When installing, please replace it back to the actual version value.</p><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-ComponentstobeUpgraded">Components to be Upgraded</h2><ul><li>Zookeeper</li><li>HDFS</li><li>Hadoop Yarn</li><li>HBase</li><li>Hive</li><li>Pig</li><li>Flume</li><li>Sqoop</li><li>Mahout</li><li>Oozie</li><li>HCatalog</li></ul><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-Prerequisites">Prerequisites</h2><p>You should have already set up a cluster-installed PHD stack version 1.1, and it should be working properly.</p><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeZookeeper">Upgrade Zookeeper</h2><p>You can perform a rolling upgrade for a Zookeeper cluster. For each node, follow the steps below to upgrade zookeeper service. Make sure the new upgraded node has joined the quorum, before starting to upgrade the next node.</p><ol><li>Stop the <code>zookeeper-server</code> service.</li><li>Unpack the Zookeeper tarball <code>zookeeper-&lt;PHD_ZOOKEEPER_VERSION&gt;.tar.gz</code></li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>ZK_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restart the <code>zookeeper-server</code> service on Zookeeper server.</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHadoop">Upgrade Hadoop</h2><ol><li>Stop Yarn  services.</li><li>Stop HDFS services.</li><li>Unpack Hadoop tarball <code>hadoop-&lt;PHD_HADOOP_VERSION&gt;.tar.gz</code> to new directory on each node.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>HADOOP_HOME</code>, <code>HADOOP_COMMON_HOME</code>, <code>HADOOP_HDFS_HOME</code>, <code>HADOOP_MAPRED_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restart HDFS services.</li><li>Restart Yarn services.</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHBase">Upgrade HBase</h2><ol><li>Stop HBase master/region/thrift/restful service.</li><li>Unpack HBase taball <code>hbase-&lt;PHD_HBASE_VERSION&gt;.tar.gz</code> to new directory.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>HBASE_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restart HBase master/region/thrift/restful service.</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHive">Upgrade Hive</h2><ol><li>Stop Hive/metastore services.</li><li>Unpack Hive tarball <code>hive-&lt;PHD_HIVE_VERSION&gt;.tar.gz</code> to new directory.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>HIVE_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restart Hive/metastore services.</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradePig">Upgrade Pig</h2><ol><li>Unpack Pig tarball <code>pig-&lt;PHD_PIG_VERSION&gt;.tar.gz</code></li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>PIG_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restore any customized UDF jars to lib directory.</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeFlume">Upgrade Flume</h2><ol><li>Stop Flume agent service.</li><li><p>Unpack Flume tarball <code>flume-&lt;PHD_FLUME_VERSION&gt;.tar.gz</code></p></li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>FLUME_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Restart flume agent service.</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeSqoop">Upgrade Sqoop</h2><ol><li>Stop the <code>sqoop-metastore</code> service.</li><li>Unpack Sqoop tarball <code>sqoop-&lt;PHD_SQOOP_VERSION&gt;.tar.gz</code></li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>SQOOP_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Restart the <code>sqoop-metastore</code> service</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeMahout">Upgrade Mahout</h2><ol><li>Unpack Mahout tarball <code>mahout-distribution-&lt;PHD_MAHOUT_VERSION&gt;.tar.gz</code></li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>MAHOUT_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeOozie">Upgrade Oozie</h2><ol><li>Stop the oozie service</li><li>Unpack Oozie tarball <code>oozie-&lt;PHD_OOZIE_VERSION&gt;-distro.tar.gz</code></li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>OOZIE_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Restart the oozie service</li></ol><h2 id="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary-UpgradeHCatalog">Upgrade HCatalog</h2><ol><li>Stop webhcat-server service</li><li>Stop hcatalog-server service</li><li>Unpack HCatalog tarball <code>hive-&lt;PHD_HCATALOG_VERSION&gt;.tar.gz</code></li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Update environment variables including <code>HCAT_HOME</code> according to new directory and make sure environment variables take effect.</li><li>Restore configuration from original installed directory and make sure configuration is compatible with new installed version.</li><li>Restart hcatalog-server service</li><li>Restart webhcat-server service</li></ol>
</div></div>


            </div><!-- end of body-container content-->
          </div><!-- end of container -->
        </div><!--end of container-fluid-->
      </div><!--end of main-wrap-->

      <div class="site-footer desktop-only">
          <div class="container-fluid">
              <div class="site-footer-links">
                  <span class="version"><a href='/'>Pivotal Documentation</a></span>
                  <span>&copy;
                      <script>
                          var d = new Date();
                          document.write(d.getFullYear());
                      </script>
                      <a href='http://gopivotal.com'>Pivotal Software</a> Inc. All Rights Reserved.
                  </span>
              </div>
          </div>
      </div>

      <script type="text/javascript">
          (function() {
              var didInit = false;
              function initMunchkin() {
                  if(didInit === false) {
                      didInit = true;
                      Munchkin.init('625-IUJ-009');
                  }
              }
              var s = document.createElement('script');
              s.type = 'text/javascript';
              s.async = true;
              s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
              s.onreadystatechange = function() {
                  if (this.readyState == 'complete' || this.readyState == 'loaded') {
                      initMunchkin();
                  }
              };
              s.onload = initMunchkin;
              document.getElementsByTagName('head')[0].appendChild(s);
          })();
      </script>
  </div><!--end of viewport-->
  <div id="scrim"></div>
</body>
</html>