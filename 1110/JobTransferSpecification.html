
<!doctype html>
<html>
<head>
  <meta charset="utf-8">

  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <!-- REPLACE X WITH PRODUCT NAME -->
  <title>Job (Transfer) Specification | Pivotal HD/PCC/ADS Documentation</title>
  <!-- Local CSS stylesheets -->
  <link href="/stylesheets/master.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/breadcrumbs.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/search.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/portal-style.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/printable.css" media="print" rel="stylesheet" type="text/css" /> 
  <!-- Confluence HTML stylesheet -->
  <link href="/stylesheets/site-conf.css" media="screen,print" rel="stylesheet"  type="text/css" /> 
  <!-- Left-navigation code -->
  <!-- http://www.designchemical.com/lab/jquery-vertical-accordion-menu-plugin/examples/# -->
  <link href="/stylesheets/dcaccordion.css" rel="stylesheet" type="text/css" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.cookie.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.hoverIntent.minified.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.dcjqaccordion.2.7.min.js" type="text/javascript"></script>
  <script type="text/javascript">
                    $(document).ready(function($){
					$('#accordion-1').dcAccordion({
						eventType: 'click',
						autoClose: true,
						saveState: true,
						disableLink: false,
						speed: 'fast',
						classActive: 'test',
						showCount: false
					});
					});
  </script>
  
  <link href="/stylesheets/grey.css" rel="stylesheet" type="text/css" /> 
  <!-- End left-navigation code -->
  <script src="/javascripts/all.js" type="text/javascript"></script>
  <link href='http://www.gopivotal.com/misc/favicon.ico' rel='shortcut icon'>
</head>

<body class="pivotalcf pivotalcf_getstarted pivotalcf_getstarted_index">
  <div class="viewport">
    <div class="mobile-navigation--wrapper mobile-only">
      <div class="navigation-drawer--container">
        <div class="navigation-item-list">
          <div class="navbar-link active">
            <a href="http://gopivotal.com">
              Home
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/paas">
              PaaS
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/big-data">
              Big Data
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/agile">
              Agile
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/support">
              Help &amp; Support
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/products">
              Products
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/solutions">
              Solutions
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/partners">
              Partners
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="mobile-nav">
        <div class="nav-icon js-open-nav-drawer">
          <i class="icon-reorder"></i>
        </div>
        <div class="header-center-icon">
          <a href="http://gopivotal.com">
            <div class="icon icon-pivotal-logo-mobile"></div>
          </a>
        </div>
      </div>
    </div>

    <div class='wrap'>
      <script src="//use.typekit.net/clb0qji.js" type="text/javascript"></script>
      <script type="text/javascript">
          try {
              Typekit.load();
          } catch (e) {
          }
      </script>
      <script type="text/javascript">
          document.domain = "gopivotal.com";
      </script>
      <div id="search-dropdown-box">
        <div class="search-dropdown--container js-search-dropdown">
          <div class="container-fluid">
            <div class="close-menu-large"><img src="http://www.gopivotal.com/sites/all/themes/gopo13/images/icon-close.png" /></div>
            <div class="search-form--container">
              <div class="form-search">
                <div class='gcse-search'></div>
                <script src="http://www.google.com/jsapi" type="text/javascript"></script>
                <script src="/javascripts/cse.js" type="text/javascript"></script>
              </div>
            </div>
          </div>
        </div>
      </div>

      <header class="navbar desktop-only" id="nav">
        <div class="navbar-inner">
            <div class="container-fluid">
                <div class="pivotal-logo--container">
                    <a class="pivotal-logo" href="http://gopivotal.com"><span></span></a>
                </div>

                <ul class="nav pull-right">
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/paas" id="paas-nav-link">PaaS</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/big-data" id="big-data-nav-link">BIG DATA</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/agile" id="agile-nav-link">AGILE</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/oss" id="oss-nav-link">OSS</a>
                    </li>
                    <li class="nav-search">
                        <a class="js-search-input-open" id="click-to-search"><span></span></a>
                    </li>
                </ul>
            </div>
            <a href="http://www.gopivotal.com/contact">
                <img id="get-started" src="http://www.gopivotal.com/sites/all/themes/gopo13/images/get-started.png">
            </a>
        </div>
      </header>
      <div class="main-wrap">
        <div class="container-fluid">

          <!-- Google CSE Search Box -->
          <div id='docs-search'>
              <gcse:search></gcse:search>
          </div>
          
          <div id='all-docs-link'>
            <a href="/">All Documentation</a>
          </div>
          
          <div class="container">
            <div id="sub-nav" class="nav-container">              
              
              <!-- Collapsible left-navigation-->
			  <ul class="accordion"  id="accordion-1">
				  <!-- REPLACE <li/> NODES-->

                        <li>
                <a href="index.html">Home</a>
                        </li>

                        <li>
                <a href="PivotalHD.html">Pivotal HD 1.1.1</a>

                            <ul>
                    <li>
                <a href="PHDEnterprise1.1.1ReleaseNotes.html">PHD Enterprise 1.1.1 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDServiceBrokerforPivotalCFv1.0.0.0.html">PHD Service Broker for Pivotal CF v1.0.0.0</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDInstallationandAdministration.html">PHD Installation and Administration</a>

                            <ul>
                    <li>
                <a href="OverviewofPHD.html">Overview of PHD</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingPHDUsingtheCLI.html">Installing PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UpgradingPHDUsingtheCLI.html">Upgrading PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="AdministeringPHDUsingtheCLI.html">Administering PHD Using the CLI</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDFAQFrequentlyAskedQuestions.html">PHD FAQ (Frequently Asked Questions)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDTroubleshooting.html">PHD Troubleshooting</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="StackandToolsReference.html">Stack and Tools Reference</a>

                            <ul>
                    <li>
                <a href="OverviewofApacheStackandPivotalComponents.html">Overview of Apache Stack and Pivotal Components</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHD1.1.1Stack-RPMPackage.html">PHD 1.1.1 Stack - RPM Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHD1.1.1Stack-BinaryPackage.html">PHD 1.1.1 Stack - Binary Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDMR11.1Stack-RPMPackage.html">PHD MR1 1.1 Stack - RPM Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDMR11.1Stack-BinaryPackage.html">PHD MR1 1.1 Stack - Binary Package</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PHDStack-OtherComponents.html">PHD Stack - Other Components</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="USSUnifiedStorageSystem.html">USS (Unified Storage System)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HVEHadoopVirtualizationExtensions.html">HVE (Hadoop Virtualization Extensions)</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="Security.html">Security</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManuallyUpgradingPHDfrom1.1to1.1.1-RPM.html">Manually Upgrading PHD from 1.1 to 1.1.1 - RPM</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManuallyUpgradingPHDfrom1.1to1.1.1-Binary.html">Manually Upgrading PHD from 1.1 to 1.1.1 - Binary</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderInstallationandUsage.html">DataLoader Installation and Usage</a>

                            <ul>
                    <li>
                <a href="OverviewofDataLoader.html">Overview of DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingandConfiguringDataLoader.html">Installing and Configuring DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UsingDataLoader.html">Using DataLoader</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="LoadingFilesandPushStreamsintoHAWQUsingPXF.html">Loading Files and Push Streams into HAWQ Using PXF</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderCommandLineInterface.html">DataLoader Command Line Interface</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderCopyStrategyandTransferPolicy.html">DataLoader Copy Strategy and Transfer Policy</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="JobTransferSpecification.html">Job (Transfer) Specification</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataStores.html">Data Stores</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ConfiguringFlumeforDataLoaderPushStreaming.html">Configuring Flume for DataLoader Push Streaming</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="DataLoaderInstallationfromBinaries.html">DataLoader Installation from Binaries</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
                        <li>
                <a href="PivotalCommandCenter.html">Pivotal Command Center 2.1.1</a>

                            <ul>
                    <li>
                <a href="PCC2.1.1ReleaseNotes.html">PCC 2.1.1 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PCCUserGuide.html">PCC User Guide</a>

                            <ul>
                    <li>
                <a href="PCCOverview.html">PCC Overview</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="InstallingPCC.html">Installing PCC</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="UsingPCC.html">Using PCC</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="CreatingaYUMEPELRepository.html">Creating a YUM EPEL Repository</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="CommandLineReference.html">Command Line Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
                        <li>
                <a href="PivotalAdvancedDatabaseServices.html">Pivotal Advanced Database Services 1.1.4</a>

                            <ul>
                    <li>
                <a href="PADS1.1.4ReleaseNotes.html">PADS 1.1.4 Release Notes</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQInstallation.html">HAWQ Installation</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQAdministration.html">HAWQ Administration</a>

                            <ul>
                    <li>
                <a href="HAWQOverview.html">HAWQ Overview</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQQueryProcessing.html">HAWQ Query Processing</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="QueryingData.html">Querying Data</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ConfiguringClientAuthentication.html">Configuring Client Authentication</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="KerberosAuthentication.html">Kerberos Authentication</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQInputFormatforMapReduce.html">HAWQ InputFormat for MapReduce</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="SQLCommandReference.html">SQL Command Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ManagementUtilityReference.html">Management Utility Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ClientUtilityReference.html">Client Utility Reference</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="ServerConfigurationParameters.html">Server Configuration Parameters</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQEnvironmentVariables.html">HAWQ Environment Variables</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="HAWQDataTypes.html">HAWQ Data Types</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="MADlibReferences.html">MADlib References</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="hawq_toolkitReference.html">hawq_toolkit Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
                    <ul>
                    <li>
                <a href="PivotalExtensionFrameworkPXF.html">Pivotal Extension Framework (PXF)</a>

                            <ul>
                    <li>
                <a href="PXFInstallationandAdministration.html">PXF Installation and Administration</a>

                    </li>
            </ul>
                    <ul>
                    <li>
                <a href="PXFExternalTableandAPIReference.html">PXF External Table and API Reference</a>

                    </li>
            </ul>
            </li>
            </ul>
            </li>
              </ul>        
              
            </div><!--end of sub-nav-->
            <div class="body-container content">

              <!-- Python script replaces main content -->
			  <div id ="main"><h1>Job (Transfer) Specification</h1><div class="wiki-content group" id="main-content">
<p>DataLoader uses jobspecs and file specs to define the job being submitted.</p><h2 id="Job(Transfer)Specification-WhatisaJobSpecification(Jobspec)?">What is a Job Specification (Jobspec)?</h2><p>A Job Specification or JobSpec (also known as a Transfer Spec) is a hierarchal XML-based file that defines a job being submitted. It is called by the dataloader-cli.sh submit -i &lt;transfer specification&gt; command.</p><p>Refer to the “File Spec Samples” later in this section  for examples of the use of the elements and attributes used in these files.</p><p>The “JobSpec Elements and Attributes” table below shows the elements and attributes of each of these types of elements and attributes.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Element</th><th class="confluenceTh">Element attribute</th><th class="confluenceTh">Element value</th></tr><tr><td class="confluenceTd"><p><strong>name</strong>: The name is the<br/>name of the job.</p></td><td class="confluenceTd"> </td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd"><strong>type</strong>: the type can be batch or streaming</td><td class="confluenceTd">batch or streaming</td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd"><strong>streaming</strong>: if the type is "streaming", this element should be set</td><td class="confluenceTd"><strong>type</strong>: this is an attribute of the streaming element</td><td class="confluenceTd"> available values are: push, pull</td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"><strong>feedSet</strong>: this element specifies the content to be copied; each feedSet includes data in one datastore; this element can occur many times. </td><td class="confluenceTd"><strong>d</strong><span style="line-height: 1.4285715;"><strong>atastore</strong>: type URI, specifies the datastore - can occur only once.</span><p><strong>feed</strong>: can occur multiple times. It can have only one attribute: path, which specifies the actual path to be copied.</p></td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"><strong>destination</strong>: this element can occur only once. It specifies the destination of the streaming job datastore: this element is of type URI, specifies the target datastore; can occur only once. </td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"><strong>path</strong>: string element. Specifies the location on the target datastore where data is to be copied. In Pivotal HD1.0, can be used only once.</td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"><strong>reader</strong>: element of type "ReaderType". Specifies the reader that will be used to read data from the source datastore. Can occur only once.</td><td class="confluenceTd"><strong>property</strong>: a key-value pair used as the reader properties. Can occur multiple times.</td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"><strong>pipeline</strong>: this element specifies the pipeline that will be used</td><td class="confluenceTd"><p><strong>worker</strong>: this attribute specifies the worker that will be used in the pipeline; can occur many times; <br/><strong>name</strong>: the name of the worker; <br/>order: int value, the order of this worker in the pipeline; value should not be the same</p></td></tr><tr><td class="confluenceTd"> </td><td class="confluenceTd"><strong>writer</strong>: this element is of type "WriterType", specifies the writer that will be used to write data to the target datastore; can occur only once</td><td class="confluenceTd"><strong>property</strong>: a key-value pair used as the reader properties. Can occur multiple times.</td></tr><tr><td class="confluenceTd">batch: if the type is batch, this element should be set</td><td class="confluenceTd"><strong>fileSet</strong>: this element specifies the files/items to be copied; each fileSet includes data in one datastore; this element can occur many times</td><td class="confluenceTd"><p><strong>datastore</strong>: URI value, specifies the source <strong>datastore</strong>; can occur only once; <br/><strong>filePath</strong>: this element is of type "FilePathType", specifies one path that needs to be copied, can occur many times <br/>globString: glob string used to filter path, only valid if the type if "glob" <br/><strong>filePath</strong>: recursive value of the same type "FilePathType", provides more detailed file listing function<br/><strong>filter</strong>: attribute, specifies the file name filter <br/><strong>type</strong>: attribute, the type of this path, available values are: "file", "folder", "glob", "list" <br/><strong>path</strong>: attribute, the exact file path that this filePath specifies</p><p><strong>disk</strong>: attribute, the disk that this filePath resides on, only valid if the datastore is localfs</p></td></tr></tbody></table></div><p> </p><h3 id="Job(Transfer)Specification-FileSpecSamples">File Spec Samples</h3><p><strong>Sample ftp.xml file with file entry type "glob":</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">&lt;JobSpec xmlns="http://www.pivotal.com/gphd/dataloader""&gt;
	&lt;name&gt;batch-job-1&lt;/name&gt;
	&lt;type&gt;batch&lt;/type&gt;
	&lt;batch&gt;
		&lt;fileSet&gt;
			&lt;datastore&gt;ftp://YOUR_SOURCE_HOSTNAME:21/&lt;/datastore&gt;
			&lt;filePath type="glob" path="/" &gt;
				&lt;globString&gt;/movie/**/*.MOV&lt;/globString&gt;
			&lt;/filePath&gt;
		&lt;/fileSet&gt;
		&lt;destination&gt;
			&lt;datastore&gt;hdfs://TARGET_HDFS_NAMENODE:8020/data&lt;/datastore&gt;
			&lt;path type="folder" path="/2013/01"&gt;&lt;/path&gt;
			&lt;trimPrefix&gt;/movie&lt;/trimPrefix&gt;
		&lt;/destination&gt;
		&lt;reader type="FS_READER"&gt;
		&lt;/reader&gt;
		&lt;writer type="FS_WRITER"&gt;
		&lt;/writer&gt;
	&lt;/batch&gt;
&lt;/JobSpec&gt;</pre>
</div></div><p>Note: For the ftp.xml transfers, filenames that end with ".MOV" from the source ftp://&lt;YOUR_SOURCE_HOSTNAME:21/ maintain the folder structure, but the "/movie" is trimed off from the folder hierarchy. Sub-folders of the movie folder will be copied to the destination HDFS hdfs://&lt;TARGET_HDFS_NAMENODE&gt;:8020/data/2013/01</p><p><strong>Sample localfs.xml:</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: html/xml; gutter: false" style="font-size:12px;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;JobSpec xmlns="http://www.pivotal.com/gphd/dataloader"&gt;
	&lt;name&gt;localfs job&lt;/name&gt;
	&lt;type&gt;batch&lt;/type&gt;
	&lt;batch&gt;
		&lt;fileSet&gt;
			&lt;datastore&gt;localfs://YOUR_SLAVE1_HOSTNAME/datastore_rootpath&lt;/datastore&gt;
			&lt;filePath type="folder" path="/logs" filter="*.log"&gt;
			&lt;/filePath&gt;
		&lt;/fileSet&gt;
		&lt;fileSet&gt;
			&lt;datastore&gt;localfs://YOUR_SLAVE2_HOSTNAME/datastore_rootpath&lt;/datastore&gt;
			&lt;filePath type="folder" path="/logs" filter="*.log"&gt;
			&lt;/filePath&gt;
		&lt;/fileSet&gt;
		&lt;destination&gt;
			&lt;datastore&gt;hdfs://YOUR_TARGET_NAMENODE:8020/data&lt;/datastore&gt;
			&lt;path type="folder" path="/2013/01"&gt;&lt;/path&gt;
			&lt;trimPrefix&gt;/logs&lt;/trimPrefix&gt;
		&lt;/destination&gt;
		&lt;reader type="FS_READER"&gt;
		&lt;/reader&gt;
		&lt;writer type="FS_WRITER"&gt;
		&lt;/writer&gt;
	&lt;/batch&gt;
&lt;/JobSpec&gt;
</pre>
</div></div><p>This spec will transfer the files in the folder "/logs" on the two specified localfs datastore to the target HDFS. </p><p><strong>Sample localfs_disk.xml</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: html/xml; gutter: false" style="font-size:12px;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;JobSpec xmlns="http://www.pivotal.com/gphd/dataloader"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.pivotal.com/gphd/dataloader ../../../main/xsd/JobSpec.xsd "&gt;
	&lt;name&gt;localfs job&lt;/name&gt;
	&lt;type&gt;batch&lt;/type&gt;
	&lt;batch&gt;
		&lt;fileSet&gt;
			&lt;datastore&gt;localfs://YOUR_SLAVE1_HOSTNAME/datastore_rootpath&lt;/datastore&gt;
			&lt;filePath type="folder" path="/logs/data1" filter="*.log" disk="disk1"&gt;
			&lt;/filePath&gt;
			&lt;filePath type="folder" path="/logs/data2" filter="*.log" disk="disk2"&gt;
			&lt;/filePath&gt;
			&lt;filePath type="folder" path="/logs/data3" filter="*.log" disk="disk3"&gt;
			&lt;/filePath&gt;
		&lt;/fileSet&gt;
		&lt;fileSet&gt;
			&lt;datastore&gt;localfs://YOUR_SLAVE2_HOSTNAME/datastore_rootpath&lt;/datastore&gt;
			&lt;filePath type="folder" path="/logs" filter="*.log" disk="disk1"&gt;
			&lt;/filePath&gt;
		&lt;/fileSet&gt;
		&lt;destination&gt;
			&lt;datastore&gt;hdfs://YOUR_TARGET_NAMENODE:8020/data&lt;/datastore&gt;
			&lt;path type="folder" path="/2013/01"&gt;&lt;/path&gt;
			&lt;trimPrefix&gt;/logs&lt;/trimPrefix&gt;
		&lt;/destination&gt;
		&lt;reader type="FS_READER"&gt;
		&lt;/reader&gt;
		&lt;writer type="FS_WRITER"&gt;
		&lt;/writer&gt;
	&lt;/batch&gt;
&lt;/JobSpec&gt;
</pre>
</div></div><p>This specification specifies the similar data to be transferred with the one above but with the disk information added. This information will be useful when using  localfs strategy and you set WORKERS_PER_DISK in the transfer policy. See the <em><a href="DataLoaderCommandLineInterface.html">DataLoader Command Line Reference</a></em> for more detail. In the sample, YOUR_SLAVE_HOSTNAME is the hostname of a slave machine. Note that multiple disks can reside on the same host, but must be different physical disks.</p><p><strong>Sample nfs.xml file with file entry type "folder"</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: html/xml; gutter: false" style="font-size:12px;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;JobSpec xmlns="http://www.pivotal.com/gphd/dataloader"&gt;
	&lt;name&gt;nfs job&lt;/name&gt;
	&lt;type&gt;batch&lt;/type&gt;
	&lt;batch&gt;
		&lt;fileSet&gt;
			&lt;datastore&gt;nfs://NFS_SERVER_HOST/datastore_rootpath&lt;/datastore&gt;
			&lt;filePath type="folder" path="/logs" filter="*.log"&gt;&lt;/filePath&gt;
			&lt;filePath type="folder" path="/logs2" filter="*.log"&gt;&lt;/filePath&gt;
		&lt;/fileSet&gt;
		&lt;destination&gt;
			&lt;datastore&gt;hdfs://YOUR_TARGET_NAMENODE:8020/data&lt;/datastore&gt;
			&lt;path type="folder" path="/2013/01"&gt;&lt;/path&gt;
			&lt;trimPrefix&gt;/logs&lt;/trimPrefix&gt;
		&lt;/destination&gt;
		&lt;reader type="FS_READER"&gt;
		&lt;/reader&gt;
		&lt;writer type="FS_WRITER"&gt;
		&lt;/writer&gt;
	&lt;/batch&gt;
&lt;/JobSpec&gt;
</pre>
</div></div><p>The specification file transfers folders /logs and /log2 from the source nfs://NFS_SERVER_HOST/datastore_rootpath to the destination hdfs://&lt;YOUR_TARGET_NAMENODE&gt;:8020/data.</p><p><strong>Sample hdfs.xml</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: html/xml; gutter: false" style="font-size:12px;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;JobSpec xmlns="http://www.pivotal.com/gphd/dataloader"&gt;
	&lt;name&gt;hdfs job&lt;/name&gt;
	&lt;type&gt;batch&lt;/type&gt;
	&lt;batch&gt;
		&lt;fileSet&gt;
			&lt;datastore&gt;hdfs://YOUR_SOURCE_NAMENODE:8020/datastore_rootpath&lt;/datastore&gt;
			&lt;filePath type="folder" path="/logs" filter="*.log"&gt;
			&lt;/filePath&gt;
		&lt;/fileSet&gt;
		&lt;destination&gt;
			&lt;datastore&gt;hdfs://YOUR_TARGET_NAMENODE:8020/data&lt;/datastore&gt;
			&lt;path type="folder" path="/2013/01"&gt;&lt;/path&gt;
			&lt;trimPrefix&gt;/logs&lt;/trimPrefix&gt;
		&lt;/destination&gt;
		&lt;reader type="FS_READER"&gt;
		&lt;/reader&gt;
		&lt;writer type="FS_WRITER"&gt;
		&lt;/writer&gt;
	&lt;/batch&gt;
&lt;/JobSpec&gt;
</pre>
</div></div><p><strong>Sample Pushstream job</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: html/xml; gutter: false" style="font-size:12px;">&lt;JobSpec xmlns="http://www.pivotal.com/gphd/dataloader"&gt;
	&lt;name&gt;name&lt;/name&gt;
	&lt;type&gt;streaming&lt;/type&gt;
	&lt;streaming type="push"&gt;
		&lt;destination&gt;
			&lt;datastore&gt;hdfs://YOUR_TARGET_NAMENODE:8020/&lt;/datastore&gt;
			&lt;path&gt;/tmp&lt;/path&gt;
		&lt;/destination&gt;
		&lt;reader type="PUSH_STREAM_READER"&gt;
		&lt;/reader&gt;
		&lt;writer type="PUSH_STREAM_WRITER"&gt;
                &lt;!-- rolling.size is 10KB --&gt;
      &lt;property name="rolling.size"    value="10240"/&gt;
 		&lt;/writer&gt;
	&lt;/streaming&gt;
&lt;/JobSpec&gt;
</pre>
</div></div><p>This spec is telling Dataloader to create a pushstream job; the received data will be stored to the HDFS datastore hdfs://&lt;YOUR_TARGET_NAMENODE&gt;:8020/ to the folder /tmp. The number of workers to start is specified in the transfer policy.</p><p><strong>Sample Pullstream job</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: html/xml; gutter: false" style="font-size:12px;">&lt;JobSpec xmlns="http://www.pivotal.com/gphd/dataloader"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.greenplum.com/gphd/dataloader ../../../main/xsd/JobSpec.xsd "&gt;
	&lt;name&gt;streaming-job-1&lt;/name&gt;
	&lt;type&gt;streaming&lt;/type&gt;
	&lt;streaming type="pull"&gt;
		&lt;feedSet&gt;
			&lt;datastore&gt;http://YOUR_SOURCE_HTTPSERVER:80/&lt;/datastore&gt;
			&lt;feed path="/updates/2013/01"&gt;&lt;/feed&gt;
			&lt;feed path="/updates/2013/02"&gt;&lt;/feed&gt;
		&lt;/feedSet&gt;
		&lt;destination&gt;
			&lt;datastore&gt;hdfs://YOUR_TARGET_NAMENODE:8020/&lt;/datastore&gt;
			&lt;path&gt;/2013&lt;/path&gt;
		&lt;/destination&gt;
		&lt;reader type="HTTP_PULLSTREAM_READER"&gt;
		&lt;/reader&gt;
		&lt;writer type="FS_ROLL_WRITER"&gt;
		&lt;/writer&gt;
	&lt;/streaming&gt;
&lt;/JobSpec&gt;
</pre>
</div></div><p>This spec is telling Dataloader to create a pull stream job to get data from the two specified path in the HTTP server and store to the HDFS datastore hdfs://&lt;YOUR_TARGET_NAMENODE&gt;:8020/ to the folder /2013.</p>
</div></div>


            </div><!-- end of body-container content-->
          </div><!-- end of container -->
        </div><!--end of container-fluid-->
      </div><!--end of main-wrap-->

      <div class="site-footer desktop-only">
          <div class="container-fluid">
              <div class="site-footer-links">
                  <span class="version"><a href='/'>Pivotal Documentation</a></span>
                  <span>&copy;
                      <script>
                          var d = new Date();
                          document.write(d.getFullYear());
                      </script>
                      <a href='http://gopivotal.com'>Pivotal Software</a> Inc. All Rights Reserved.
                  </span>
              </div>
          </div>
      </div>

      <script type="text/javascript">
          (function() {
              var didInit = false;
              function initMunchkin() {
                  if(didInit === false) {
                      didInit = true;
                      Munchkin.init('625-IUJ-009');
                  }
              }
              var s = document.createElement('script');
              s.type = 'text/javascript';
              s.async = true;
              s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
              s.onreadystatechange = function() {
                  if (this.readyState == 'complete' || this.readyState == 'loaded') {
                      initMunchkin();
                  }
              };
              s.onload = initMunchkin;
              document.getElementsByTagName('head')[0].appendChild(s);
          })();
      </script>
  </div><!--end of viewport-->
  <div id="scrim"></div>
</body>
</html>